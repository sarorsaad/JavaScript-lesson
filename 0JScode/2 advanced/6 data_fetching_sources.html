<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Fetching Sources in Web Development</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background-color: #f8f9fa;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 30px;
        }

        .steps-nav {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .step-btn {
            display: inline-block;
            padding: 10px 20px;
            margin: 5px;
            border: 2px solid #3498db;
            background: white;
            color: #3498db;
            cursor: pointer;
            border-radius: 5px;
            font-size: 16px;
            text-decoration: none;
            user-select: none;
        }

        .step-btn:hover {
            background: #3498db;
            color: white;
        }

        .step-btn.active {
            background: #3498db;
            color: white;
        }

        .section {
            display: none;
            margin: 20px 0;
        }

        .section.active {
            display: block;
        }

        .code-block {
            background-color: #2c3e50;
            color: #ecf0f1;
            padding: 25px;
            border-radius: 5px;
            font-family: monospace;
            white-space: pre-wrap;
            margin: 20px auto;
            font-size: 1.2em;
            line-height: 1.8;
            max-width: 800px;
            text-align: left;
        }

        .example-list {
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 5px;
            margin: 20px 0;
        }

        .example-list h3 {
            color: #2c3e50;
            margin-top: 0;
        }

        .example-list ul {
            list-style-type: none;
            padding: 0;
        }

        .example-list li {
            margin: 10px 0;
            padding-left: 20px;
            position: relative;
        }

        .example-list li:before {
            content: "â€¢";
            color: #3498db;
            font-weight: bold;
            position: absolute;
            left: 0;
        }

        .considerations {
            background-color: #edf2f7;
            padding: 20px;
            border-radius: 5px;
            margin: 20px 0;
        }

        .considerations h3 {
            color: #2c3e50;
            margin-top: 0;
        }

        .try-it {
            margin: 30px auto;
            max-width: 800px;
            text-align: left;
        }

        .output {
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            padding: 15px;
            margin: 20px auto;
            border-radius: 4px;
            font-size: 1.1em;
            max-width: 800px;
            text-align: left;
        }

        button {
            padding: 10px 20px;
            border: none;
            background-color: #3498db;
            color: white;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1.1em;
        }

        button:disabled {
            background-color: #bdc3c7;
            cursor: not-allowed;
        }

        .sub-section {
            margin: 30px 0;
            padding: 20px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .sub-section h3 {
            color: #2c3e50;
            margin-top: 0;
        }

        .demo-controls {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-bottom: 15px;
        }

        code {
            background-color: #f8f9fa;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: monospace;
            color: #e74c3c;
        }

        .api-section {
            display: none;
            margin-top: 20px;
        }

        .api-section.active {
            display: block;
        }

        .relationship-box {
            border: 2px solid #e74c3c;
            padding: 20px;
            border-radius: 8px;
            background-color: #fff;
            margin: 20px 0;
        }

        .relationship-box ol {
            margin: 0;
            padding-left: 25px;
        }

        .relationship-box li {
            margin: 10px 0;
            color: #2c3e50;
            line-height: 1.5;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Data Fetching Sources in Web Development</h1>

        <div class="steps-nav">
            <button class="step-btn active" onclick="showSection(1)">APIs</button>
            <button class="step-btn" onclick="showSection(2)">Database</button>
            <button class="step-btn" onclick="showSection(3)">File System</button>
            <button class="step-btn" onclick="showSection(4)">Local Storage</button>
            <button class="step-btn" onclick="showSection(5)">Backend Endpoints</button>
            <button class="step-btn" onclick="showSection(6)">External Services</button>
            <button class="step-btn" onclick="showSection(7)">WebSockets</button>
        </div>

        <div id="section1" class="section active">
            <h2>1. APIs</h2>
            <p>REST (Representational State Transfer) APIs are a standardized way to communicate between client and server over HTTP.</p>
            
            <div class="sub-nav steps-nav">
                <button class="step-btn active" onclick="showApiSection(1)">HTTP Foundation</button>
                <button class="step-btn" onclick="showApiSection(2)">CRUD Operations</button>
                <button class="step-btn" onclick="showApiSection(3)">Status Codes</button>
                <button class="step-btn" onclick="showApiSection(4)">Headers</button>
                <button class="step-btn" onclick="showApiSection(5)">URL Structure</button>
                <button class="step-btn" onclick="showApiSection(6)">Request/Response</button>
                <button class="step-btn" onclick="showApiSection(7)">Practical Example</button>
                <button class="step-btn" onclick="showApiSection(8)">Live Demo</button>
                <button class="step-btn" onclick="showApiSection(9)">Key Points</button>
            </div>

            <div id="api-section1" class="api-section active">
                <div class="sub-section">
                    <h3>1. HTTP as the Foundation</h3>
                    <p>REST APIs use HTTP methods as their fundamental operations for client-server communication.</p>
                    <div class="code-block">// REST APIs use HTTP methods as their fundamental operations
fetch('https://api.example.com/users', {
    method: 'GET',    // HTTP Method
    headers: {        // HTTP Headers
        'Content-Type': 'application/json'
    }
});</div>
                </div>
            </div>

            <div id="api-section2" class="api-section">
                <div class="sub-section">
                    <h3>2. HTTP Methods Map to CRUD Operations</h3>
                    <div class="code-block">// Create (POST)
fetch('/api/users', {
    method: 'POST',
    body: JSON.stringify(userData)
});

// Read (GET)
fetch('/api/users');

// Update (PUT/PATCH)
fetch('/api/users/1', {
    method: 'PUT',
    body: JSON.stringify(updatedData)
});

// Delete (DELETE)
fetch('/api/users/1', {
    method: 'DELETE'
});</div>
                </div>
            </div>

            <div id="api-section3" class="api-section">
                <div class="sub-section">
                    <h3>3. HTTP Status Codes in REST</h3>
                    <div class="code-block">async function handleResponse() {
    const response = await fetch('/api/users');
    
    switch(response.status) {
        case 200: // OK
            return await response.json();
        case 201: // Created
            return 'Resource created';
        case 404: // Not Found
            throw new Error('Resource not found');
        case 500: // Server Error
            throw new Error('Server error');
    }
}</div>
                    <h4>Common Status Code Categories</h4>
                    <ul>
                        <li><strong>2xx - Success</strong>
                            <ul>
                                <li>200 - OK</li>
                                <li>201 - Created</li>
                                <li>204 - No Content</li>
                            </ul>
                        </li>
                        <li><strong>4xx - Client Errors</strong>
                            <ul>
                                <li>400 - Bad Request</li>
                                <li>401 - Unauthorized</li>
                                <li>403 - Forbidden</li>
                                <li>404 - Not Found</li>
                            </ul>
                        </li>
                        <li><strong>5xx - Server Errors</strong>
                            <ul>
                                <li>500 - Internal Server Error</li>
                                <li>503 - Service Unavailable</li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>

            <div id="api-section4" class="api-section">
                <div class="sub-section">
                    <h3>4. HTTP Headers in REST</h3>
                    <div class="code-block">fetch('/api/users', {
    headers: {
        // Content negotiation
        'Accept': 'application/json',
        'Content-Type': 'application/json',
        
        // Authentication
        'Authorization': 'Bearer token123',
        
        // Caching
        'Cache-Control': 'no-cache',
        
        // Custom headers
        'X-API-Key': 'your-api-key'
    }
});</div>
                </div>
            </div>

            <div id="api-section5" class="api-section">
                <div class="sub-section">
                    <h3>5. URL Structure</h3>
                    <div class="code-block">// REST uses HTTP URLs for resource identification
const baseUrl = 'https://api.example.com';

// Resource endpoints
const endpoints = {
    users:     `${baseUrl}/users`,           // Collection
    user:      `${baseUrl}/users/123`,       // Specific resource
    userPosts: `${baseUrl}/users/123/posts`  // Nested resource
};</div>
                </div>
            </div>

            <div id="api-section6" class="api-section">
                <div class="sub-section">
                    <h3>6. Request/Response Cycle</h3>
                    <div class="code-block">async function completeRESTCycle() {
    try {
        // HTTP Request
        const response = await fetch('/api/users', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({
                name: 'John Doe'
            })
        });

        // HTTP Response
        if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
        }

        const data = await response.json();
        console.log('Response:', data);

    } catch (error) {
        console.error('Error:', error);
    }
}</div>
                </div>
            </div>

            <div id="api-section7" class="api-section">
                <div class="sub-section">
                    <h3>7. Practical Example</h3>
                    <div class="code-block">class RESTClient {
    constructor(baseURL) {
        this.baseURL = baseURL;
    }

    async request(endpoint, options = {}) {
        const url = `${this.baseURL}${endpoint}`;
        const response = await fetch(url, {
            ...options,
            headers: {
                'Content-Type': 'application/json',
                ...options.headers
            }
        });

        if (!response.ok) {
            throw new Error(`HTTP ${response.status} - ${response.statusText}`);
        }

        return response.json();
    }

    // REST Methods using HTTP
    async get(endpoint) {
        return this.request(endpoint);
    }

    async post(endpoint, data) {
        return this.request(endpoint, {
            method: 'POST',
            body: JSON.stringify(data)
        });
    }

    async put(endpoint, data) {
        return this.request(endpoint, {
            method: 'PUT',
            body: JSON.stringify(data)
        });
    }

    async delete(endpoint) {
        return this.request(endpoint, {
            method: 'DELETE'
        });
    }
}

// Usage
const api = new RESTClient('https://api.example.com');
api.get('/users')
   .then(users => console.log(users))
   .catch(error => console.error(error));</div>
                </div>
            </div>

            <div id="api-section8" class="api-section">
                <div class="try-it">
                    <h3>Try It: REST API Demo</h3>
                    <div class="demo-controls">
                        <button onclick="getUsers()">Get Users</button>
                        <button onclick="addUser()">Add User</button>
                        <button onclick="updateUser()">Update User</button>
                        <button onclick="deleteUser()">Delete User</button>
                    </div>
                    <div id="apiOutput" class="output"></div>
                </div>
            </div>

            <div id="api-section9" class="api-section">
                <div class="sub-section key-points">
                    <h3>Key Points About the Relationship:</h3>
                    <div class="relationship-box">
                        <ol>
                            <li>HTTP provides the transport protocol for REST APIs</li>
                            <li>REST uses HTTP methods for operations</li>
                            <li>HTTP status codes indicate REST operation results</li>
                            <li>HTTP headers carry REST metadata</li>
                            <li>HTTP URLs identify REST resources</li>
                            <li>HTTP request/response format structures REST communication</li>
                        </ol>
                    </div>
                </div>
            </div>
        </div>

        <div id="section2" class="section">
            <h2>2. Database</h2>
            <p>Databases store structured data that can be queried and manipulated.</p>
            
            <div class="code-block">// Direct Database Query (Server-side)
const users = await prisma.user.findMany();

// Using SQL
const result = await sql`SELECT * FROM users`;</div>

            <div class="example-list">
                <h3>Database Types:</h3>
                <ul>
                    <li>MySQL - Popular relational database</li>
                    <li>PostgreSQL - Advanced open-source database</li>
                    <li>MongoDB - NoSQL document database</li>
                    <li>SQLite - Lightweight file-based database</li>
                </ul>
            </div>
        </div>

        <div id="section3" class="section">
            <h2>3. File System</h2>
            <p>Access data stored in local files on the server or client.</p>
            
            <div class="code-block">// Reading local JSON file
fetch('/data/local-data.json')
  .then(response => response.json());

// Server-side file reading
const data = require('./data.json');</div>

            <div class="try-it">
                <h3>Try It: Read Local JSON</h3>
                <button onclick="readLocalJson()">Read JSON</button>
                <div id="fileOutput" class="output"></div>
            </div>
        </div>

        <div id="section4" class="section">
            <h2>4. Local Storage</h2>
            <p>Store and retrieve data in the browser's local storage.</p>
            
            <div class="code-block">// Browser's local storage
localStorage.setItem('user', JSON.stringify(userData));
const savedUser = JSON.parse(localStorage.getItem('user'));</div>

            <div class="try-it">
                <h3>Try It: Local Storage</h3>
                <button onclick="saveToLocalStorage()">Save Data</button>
                <button onclick="loadFromLocalStorage()">Load Data</button>
                <div id="storageOutput" class="output"></div>
            </div>
        </div>

        <div id="section5" class="section">
            <h2>5. Backend Endpoints</h2>
            <p>Custom API endpoints on your server to handle specific data requests.</p>
            
            <div class="code-block">// Your own API endpoints
fetch('/api/users')
  .then(response => response.json());

// Custom API routes
app.get('/api/users', (req, res) => {
  // Handle request
});</div>

            <div class="considerations">
                <h3>Key Considerations:</h3>
                <ul>
                    <li>Authentication and Authorization</li>
                    <li>Input Validation</li>
                    <li>Error Handling</li>
                    <li>Rate Limiting</li>
                </ul>
            </div>
        </div>

        <div id="section6" class="section">
            <h2>6. External Services</h2>
            <p>Third-party services that provide specialized functionality.</p>
            
            <div class="code-block">// Content Management Systems (CMS)
fetch('https://your-cms.com/api/content');

// Authentication services
fetch('https://auth0.com/api/user');</div>

            <div class="example-list">
                <h3>Common Services:</h3>
                <ul>
                    <li>Content Management Systems (WordPress, Strapi)</li>
                    <li>Authentication (Auth0, Firebase Auth)</li>
                    <li>Analytics (Google Analytics, Mixpanel)</li>
                    <li>Cloud Storage (AWS S3, Google Cloud Storage)</li>
                </ul>
            </div>
        </div>

        <div id="section7" class="section">
            <h2>7. WebSockets</h2>
            <p>Real-time bidirectional communication between client and server.</p>
            
            <div class="code-block">// Real-time data
const socket = new WebSocket('wss://server.example.com');
socket.onmessage = (event) => {
  console.log('Received:', event.data);
};</div>

            <div class="try-it">
                <h3>Try It: WebSocket Demo</h3>
                <button onclick="startWebSocket()">Connect WebSocket</button>
                <div id="wsOutput" class="output"></div>
            </div>
        </div>
    </div>

    <script>
        let currentSection = 1;
        const totalSections = 7;

        function showSection(sectionNum) {
            // Hide all sections
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });

            // Show selected section
            document.getElementById(`section${sectionNum}`).classList.add('active');

            // Update buttons
            document.querySelectorAll('.step-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelectorAll('.step-btn')[sectionNum - 1].classList.add('active');

            currentSection = sectionNum;
        }

        function showApiSection(sectionNum) {
            // Hide all API sections
            document.querySelectorAll('.api-section').forEach(section => {
                section.classList.remove('active');
            });

            // Show selected API section
            document.getElementById(`api-section${sectionNum}`).classList.add('active');

            // Update sub-navigation buttons
            document.querySelectorAll('.sub-nav .step-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelectorAll('.sub-nav .step-btn')[sectionNum - 1].classList.add('active');
        }

        // Example functions for interactive demos
        function fetchWeatherData() {
            const output = document.getElementById('weatherOutput');
            output.textContent = 'Simulated Weather Data: 72Â°F, Sunny';
        }

        function readLocalJson() {
            const output = document.getElementById('fileOutput');
            output.textContent = 'Simulated File Content: {"data": "example"}';
        }

        function saveToLocalStorage() {
            const data = { name: 'John', age: 30 };
            localStorage.setItem('demoData', JSON.stringify(data));
            const output = document.getElementById('storageOutput');
            output.textContent = 'Data saved to local storage';
        }

        function loadFromLocalStorage() {
            const data = localStorage.getItem('demoData');
            const output = document.getElementById('storageOutput');
            output.textContent = data ? `Loaded: ${data}` : 'No data found';
        }

        function startWebSocket() {
            const output = document.getElementById('wsOutput');
            output.textContent = 'WebSocket Connection Simulated';
        }

        async function getUsers() {
            const output = document.getElementById('apiOutput');
            output.innerHTML = 'Loading...';
            try {
                const response = await fetch('https://jsonplaceholder.typicode.com/users');
                const users = await response.json();
                output.innerHTML = `<pre>${JSON.stringify(users[0], null, 2)}</pre>`;
            } catch (error) {
                output.innerHTML = `Error: ${error.message}`;
            }
        }

        async function addUser() {
            const output = document.getElementById('apiOutput');
            output.innerHTML = 'Adding user...';
            try {
                const response = await fetch('https://jsonplaceholder.typicode.com/users', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        name: 'New User',
                        email: 'new@example.com'
                    })
                });
                const newUser = await response.json();
                output.innerHTML = `<pre>Added User:\n${JSON.stringify(newUser, null, 2)}</pre>`;
            } catch (error) {
                output.innerHTML = `Error: ${error.message}`;
            }
        }

        async function updateUser() {
            const output = document.getElementById('apiOutput');
            output.innerHTML = 'Updating user...';
            try {
                const response = await fetch('https://jsonplaceholder.typicode.com/users/1', {
                    method: 'PUT',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        name: 'Updated User'
                    })
                });
                const updatedUser = await response.json();
                output.innerHTML = `<pre>Updated User:\n${JSON.stringify(updatedUser, null, 2)}</pre>`;
            } catch (error) {
                output.innerHTML = `Error: ${error.message}`;
            }
        }

        async function deleteUser() {
            const output = document.getElementById('apiOutput');
            output.innerHTML = 'Deleting user...';
            try {
                await fetch('https://jsonplaceholder.typicode.com/users/1', {
                    method: 'DELETE'
                });
                output.innerHTML = 'User deleted successfully';
            } catch (error) {
                output.innerHTML = `Error: ${error.message}`;
            }
        }

        // Initialize
        showSection(1);
    </script>
</body>
</html>
